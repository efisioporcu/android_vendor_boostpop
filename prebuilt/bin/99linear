#!/system/bin/sh

LINEAR_CONF="/system/etc/linear.conf"
LINEAR_LOGFILE="/data/local/tmp/linear.log"

if [ -f $LINEAR_LOGFILE ]; then
  mv $LINEAR_LOGFILE $LINEAR_LOGFILE.2;
fi

echo $(date) >> $LINEAR_LOGFILE

#CPU Governor settings
CPU_GOV=`grep "CPU_GOV" $LINEAR_CONF | cut -d '=' -f2`
if [ "`grep CPU_GOV=1 $LINEAR_CONF`" ]; then
  echo interactive > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor;
  echo Interactive CPU Governor >> $LINEAR_LOGFILE;
elif [ "`grep CPU_GOV=2 $LINEAR_CONF`" ]; then  
  echo conservative > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor;
  echo Conservative CPU Governor >> $LINEAR_LOGFILE;
elif [ "`grep CPU_GOV=4 $LINEAR_CONF`" ]; then  
  echo powersave > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor;
  echo Powersave CPU Governor >> $LINEAR_LOGFILE;
elif [ "`grep CPU_GOV=5 $LINEAR_CONF`" ]; then  
  echo performance > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor;
  echo Performance CPU Governor >> $LINEAR_LOGFILE;
else
  echo ondemand > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor;
  echo Ondemand CPU Governor >> $LINEAR_LOGFILE;
fi

#io scheduler settings
SCHED=`grep "SCHED" $LINEAR_CONF | cut -d '=' -f2`
if [ "`grep SCHED=1 $LINEAR_CONF`" ]; then
  echo cfq > /sys/block/mmcblk0/queue/scheduler;
  echo CFQ io scheduler >> $LINEAR_LOGFILE;
elif [ "`grep SCHED=3 $LINEAR_CONF`" ]; then
  echo row > /sys/block/mmcblk0/queue/scheduler;
  echo ROW io scheduler >> $LINEAR_LOGFILE;
elif [ "`grep SCHED=4 $LINEAR_CONF`" ]; then
  echo fiops > /sys/block/mmcblk0/queue/scheduler;
  echo FIOPS io scheduler >> $LINEAR_LOGFILE;
elif [ "`grep SCHED=5 $LINEAR_CONF`" ]; then
  echo sio > /sys/block/mmcblk0/queue/scheduler;
  echo SIO io scheduler >> $LINEAR_LOGFILE;
else
  echo deadline > /sys/block/mmcblk0/queue/scheduler;
  echo DEADLINE io scheduler >> $LINEAR_LOGFILE;
fi

#Readahead settings
READAHEAD=`grep "READAHEAD" $LINEAR_CONF | cut -d '=' -f2`
echo $READAHEAD > /sys/block/mmcblk0/queue/read_ahead_kb;
echo Readahead size\: $READAHEAD >> $LINEAR_LOGFILE;

#TCP congestion
TCP=`grep "TCP" $LINEAR_CONF | cut -d '=' -f2`
echo $TCP > /proc/sys/net/ipv4/tcp_congestion_control
if [ "`grep TCP=2 $LINEAR_CONF`" ]; then
  echo reno > /proc/sys/net/ipv4/tcp_congestion_control;
  echo reno tcp >> $LINEAR_LOGFILE;
elif [ "`grep TCP=3 $LINEAR_CONF`" ]; then
  echo cubic > /proc/sys/net/ipv4/tcp_congestion_control;
  echo cubic tcp >> $LINEAR_LOGFILE;
elif [ "`grep TCP=4 $LINEAR_CONF`" ]; then
  echo htcp > /proc/sys/net/ipv4/tcp_congestion_control;
  echo htcp tcp >> $LINEAR_LOGFILE;
elif [ "`grep TCP=5 $LINEAR_CONF`" ]; then
  echo vegas > /proc/sys/net/ipv4/tcp_congestion_control;
  echo vegas tcp >> $LINEAR_LOGFILE;
elif [ "`grep TCP=6 $LINEAR_CONF`" ]; then
  echo veno > /proc/sys/net/ipv4/tcp_congestion_control;
  echo veno tcp >> $LINEAR_LOGFILE;
elif [ "`grep TCP=7 $LINEAR_CONF`" ]; then
  echo illinois > /proc/sys/net/ipv4/tcp_congestion_control;
  echo illinois tcp >> $LINEAR_LOGFILE;
else
  echo westwood > /proc/sys/net/ipv4/tcp_congestion_control;
  echo westwood tcp >> $LINEAR_LOGFILE;  
fi;

#vibrator settings
GVIB=`grep "GVIB" $LINEAR_CONF | cut -d '=' -f2`
echo $GVIB > /sys/class/timed_output/vibrator/amp;
echo Global Vibration strength\: $GVIB >> $LINEAR_LOGFILE;

#Set Sweep2wake
S2W="`grep SWEEP2WAKE $LINEAR_CONF | cut -d '=' -f2`"
  echo $S2W > /sys/android_touch/sweep2wake
  echo Sweep2wake $S2W >> $LINEAR_LOGFILE;

#Set Doubletap2wake
if [ "`grep DT2W=1 $LINEAR_CONF`" ]; then
  echo 1 > /sys/android_touch/doubletap2wake;
  echo Doubletap2wake enabled >> $LINEAR_LOGFILE;
elif [ "`grep DT2W=2 $LINEAR_CONF`" ]; then
  echo 2 > /sys/android_touch/doubletap2wake;
  echo Doubletap2wake fullscreen enabled >> $LINEAR_LOGFILE;
else
  echo 0 > /sys/android_touch/doubletap2wake;
  echo Doubletap2wake disabled >> $LINEAR_LOGFILE;
fi

#Set Wake vibration strength
VIB_STRENGTH="`grep VIB_STRENGTH $LINEAR_CONF | cut -d '=' -f2`"
  echo $VIB_STRENGTH > /sys/android_touch/vib_strength
  echo Wake vibration strength $VIB_STRENGTH >> $LINEAR_LOGFILE;

#Set Sweep2sleep
if [ "`grep S2S=1 $LINEAR_CONF`" ]; then
  echo 1 > /sys/android_touch/sweep2sleep
  echo Sweep2sleep right enabled >> $LINEAR_LOGFILE;
elif [ "`grep S2S=2 $LINEAR_CONF`" ]; then
  echo 2 > /sys/android_touch/sweep2sleep
  echo Sweep2sleep left enabled >> $LINEAR_LOGFILE;
elif [ "`grep S2S=3 $LINEAR_CONF`" ]; then
  echo 3 > /sys/android_touch/sweep2sleep
  echo Sweep2sleep left and right enabled >> $LINEAR_LOGFILE;
else
  echo 0 > /sys/android_touch/sweep2sleep
  echo Sweep2sleep disabled >> $LINEAR_LOGFILE;
fi

#Set S2W/DT2W Power Key Toggle
if [ "`grep PWR_KEY=1 $LINEAR_CONF`" ]; then
  echo 1 > /sys/module/qpnp_power_on/parameters/pwrkey_suspend;
  echo "Power key toggle for S2W/DT2W enabled" >> $LINEAR_LOGFILE;
else
  echo 0 > /sys/module/qpnp_power_on/parameters/pwrkey_suspend;
  echo "Power key toggle for S2W/DT2W disabled" >> $LINEAR_LOGFILE;
fi

#Set S2W/DT2W Timeout
TIMEOUT=`grep "TIMEOUT" $LINEAR_CONF | cut -d '=' -f2`
  echo $TIMEOUT > /sys/android_touch/wake_timeout;
  echo S2W/DT2W Timeout\: $TIMEOUT >> $LINEAR_LOGFILE;

#Set FASTCHARGE
if [ "`grep FC=1 $LINEAR_CONF`" ]; then
  echo 1 > /sys/kernel/fast_charge/force_fast_charge;
  echo USB Fastcharge enabled >> $LINEAR_LOGFILE;
else
  echo 0 > /sys/kernel/fast_charge/force_fast_charge;
  echo USB Fastcharge disabled >> $LINEAR_LOGFILE;
fi

#GPU Governor settings
GPU_GOV=`grep "GPU_GOV" $LINEAR_CONF | cut -d '=' -f2`
if [ "`grep GPU_GOV=1 $LINEAR_CONF`" ]; then
  echo performance > /sys/class/kgsl/kgsl-3d0/pwrscale/trustzone/governor;
  echo Performance GPU Governor >> $LINEAR_LOGFILE;
else  
  echo ondemand > /sys/class/kgsl/kgsl-3d0/pwrscale/trustzone/governor;
  echo Ondemand GPU Governor >> $LINEAR_LOGFILE;
fi

#GPU max frequency
GPU_MAX=`grep "GPU_MAX" $LINEAR_CONF | cut -d '=' -f2`
echo $GPU_MAX > /sys/class/kgsl/kgsl-3d0/max_gpuclk;
echo Gpu max frequency\: $GPU_MAX >> $LINEAR_LOGFILE;

#color profile
COL=`grep "COL" $LINEAR_CONF | cut -d '=' -f2`
if [ "`grep COL=1 $LINEAR_CONF`" ]; then
  echo "2 11 22 33 44 55 67 78 89 101 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bn;
  echo "4 11 22 33 44 55 67 78 89 100 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bp;
  echo "4 11 22 33 44 55 67 78 89 100 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gn;
  echo "2 11 22 33 44 55 67 78 89 101 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 11 22 33 44 55 67 78 89 101 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 11 22 33 44 55 67 78 89 102 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Aditya AMOLEDDARKS >> $LINEAR_LOGFILE;
elif [ "`grep COL=3 $LINEAR_CONF`" ]; then
  echo "2 10 17 27 37 45 56 72 83 98 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bn;
  echo "4 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bp;
  echo "4 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gn;
  echo "2 10 17 27 37 45 56 72 83 103 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 103 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Aditya TRUERGB >> $LINEAR_LOGFILE;
elif [ "`grep COL=4 $LINEAR_CONF`" ]; then
  echo "36 44 52 61 68 80 90 97 104 112 121 129 116 106 95 85 74 64 53 43 32 22 11" > /sys/module/dsi_panel/kgamma_bn;
  echo "36 44 52 61 68 80 90 97 104 112 121 129 116 106 95 85 74 64 53 43 32 22 11" > /sys/module/dsi_panel/kgamma_bp;
  echo "26 34 42 52 61 73 86 93 102 113 122 132 113 103 93 83 72 62 52 42 31 21 11" > /sys/module/dsi_panel/kgamma_gn;
  echo "26 34 42 52 61 73 86 93 102 113 122 132 113 103 93 83 72 62 52 42 31 21 11" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 1 3 16 32 48 66 79 90 106 120 133 113 102 92 82 72 62 52 41 31 21 11" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 1 3 16 32 48 66 79 90 106 120 133 113 102 92 82 72 62 52 41 31 21 11" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Banged Up >> $LINEAR_LOGFILE;
elif [ "`grep COL=5 $LINEAR_CONF`" ]; then
  echo "76 77 79 81 84 86 91 99 101 111 116 121 135 131 125 114 99 86 76 67 55 48 35" > /sys/module/dsi_panel/kgamma_bn;
  echo "76 77 79 81 84 86 91 99 101 111 116 121 135 131 125 114 99 86 76 67 55 48 35" > /sys/module/dsi_panel/kgamma_bp;
  echo "71 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "71 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w; 
  echo Batfink >> $LINEAR_LOGFILE; 
elif [ "`grep COL=6 $LINEAR_CONF`" ]; then
  echo "0 12 19 30 39 48 56 72 83 107 118 126 121 114 109 102 93 73 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 19 30 39 48 56 72 83 107 118 130 121 115 114 102 82 76 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 19 30 39 54 61 78 84 112 123 132 117 110 108 97 90 71 61 52 45 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 19 30 39 54 61 78 84 112 121 130 119 112 107 99 76 72 57 50 45 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 19 30 39 48 56 72 83 100 121 126 119 112 107 99 91 71 63 53 44 36 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 19 30 39 48 56 72 83 100 121 134 119 113 110 98 78 72 59 50 44 36 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Bear Perfect >> $LINEAR_LOGFILE;
elif [ "`grep COL=7 $LINEAR_CONF`" ]; then
  echo "95 91 93 95 98 100 105 114 116 122 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "95 91 93 95 98 100 105 114 116 122 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "85 85 86 88 91 94 101 111 115 123 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "85 85 86 88 91 94 101 111 115 123 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "2 10 17 27 37 45 57 75 86 91 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "2 10 17 27 37 45 57 75 86 91 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "29" > /sys/module/dsi_panel/kgamma_w; 
  echo Brads V1 >> $LINEAR_LOGFILE;
elif [ "`grep COL=8 $LINEAR_CONF`" ]; then
  echo "87 91 93 95 98 100 105 114 116 127 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "87 91 93 95 98 100 105 114 116 127 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "84 85 86 88 91 94 101 111 115 129 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "84 85 86 88 91 94 101 111 115 129 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 113 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 113 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Brads V2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=9 $LINEAR_CONF`" ]; then
  echo "88 87 89 91 94 96 101 109 111 120 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "88 87 89 91 94 96 101 109 111 120 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "73 73 75 78 81 84 90 100 105 115 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "73 73 75 78 81 84 90 100 105 115 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "5 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "5 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Dbolot >> $LINEAR_LOGFILE;
elif [ "`grep COL=a $LINEAR_CONF`" ]; then
  echo "20 10 17 27 37 45 56 72 83 105 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bn;
  echo "20 10 17 27 37 45 56 72 83 105 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bp;
  echo "25 10 17 27 37 45 56 72 83 106 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gn;
  echo "25 10 17 27 37 45 56 72 83 106 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gp;
  echo "5 10 17 27 37 45 56 72 83 102 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "5 10 17 27 37 45 56 72 83 102 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Droidxda >> $LINEAR_LOGFILE;        
elif [ "`grep COL=b $LINEAR_CONF`" ]; then
  echo "78 87 89 91 94 96 101 109 111 121 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "78 87 89 91 94 96 101 109 111 121 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "73 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "73 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 107 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "30" > /sys/module/dsi_panel/kgamma_w;
  echo Faux123 >> $LINEAR_LOGFILE;
elif [ "`grep COL=c $LINEAR_CONF`" ]; then
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "84 85 86 88 91 94 101 111 115 130 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "84 85 86 88 91 94 101 111 115 130 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "17 10 17 27 37 45 57 75 86 116 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "17 10 17 27 37 45 57 75 86 116 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Fluidification V2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=d $LINEAR_CONF`" ]; then
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "68 85 86 88 91 94 101 111 115 115 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "68 85 86 88 91 94 101 111 115 115 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "17 10 17 27 37 45 57 75 86 106 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "17 10 17 27 37 45 57 75 86 106 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "30" > /sys/module/dsi_panel/kgamma_w;
  echo Fluidification V3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=e $LINEAR_CONF`" ]; then
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "94 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "80 85 86 88 91 94 101 111 115 130 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "80 85 86 88 91 94 101 111 115 130 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "17 10 17 27 37 45 57 75 86 116 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "17 10 17 27 37 45 57 75 86 116 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Fluidification V4 >> $LINEAR_LOGFILE;
elif [ "`grep COL=f $LINEAR_CONF`" ]; then
  echo "2 11 22 33 44 55 67 78 89 97 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bn;
  echo "4 11 22 33 44 55 67 78 89 96 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bp;
  echo "4 11 22 33 44 55 67 78 89 97 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gn;
  echo "2 11 22 33 44 55 67 78 89 98 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 11 22 33 44 55 67 78 89 97 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 11 22 33 44 55 67 78 89 98 111 122 122 111 100 89 78 67 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Gamerman123x v2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=g $LINEAR_CONF`" ]; then
  echo "89 91 93 95 98 100 105 114 116 124 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "89 91 93 95 98 100 105 114 116 124 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "22" > /sys/module/dsi_panel/kgamma_w;
  echo HellooSaturatedColors >> $LINEAR_LOGFILE;
elif [ "`grep COL=h $LINEAR_CONF`" ]; then
  echo "92 91 93 95 98 100 105 114 116 128 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "92 91 93 95 98 100 105 114 116 128 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "86 85 86 88 91 94 101 111 115 127 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "86 85 86 88 91 94 101 111 115 127 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "14 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "14 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "31" > /sys/module/dsi_panel/kgamma_w;
  echo IAreKyleW00t >> $LINEAR_LOGFILE;
elif [ "`grep COL=i $LINEAR_CONF`" ]; then
  echo "90 91 93 95 98 100 105 114 116 125 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "90 91 93 95 98 100 105 114 116 125 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "84 85 86 88 91 94 101 111 115 125 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "84 85 86 88 91 94 101 111 115 125 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Mag01Settings >> $LINEAR_LOGFILE;
elif [ "`grep COL=j $LINEAR_CONF`" ]; then
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 23 47 70 93 116 134 145 157 169 180 192 58 53 47 42 37 32 26 21 16 11 5" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Insanity2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=k $LINEAR_CONF`" ]; then
  echo "89 91 93 95 98 100 105 114 116 124 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "89 91 93 95 98 100 105 114 116 124 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 104 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Neriamarillo >> $LINEAR_LOGFILE;
elif [ "`grep COL=l $LINEAR_CONF`" ]; then
  echo "90 91 93 95 98 100 105 114 116 125 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "90 91 93 95 98 100 105 114 116 125 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "83 85 86 88 91 94 101 111 115 124 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 102 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 102 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Neriamarillo2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=m $LINEAR_CONF`" ]; then
  echo "90 91 93 95 98 100 105 114 116 128 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "90 91 93 95 98 100 105 114 116 128 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "83 85 86 88 91 94 101 111 115 127 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "83 85 86 88 91 94 101 111 115 127 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 105 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 105 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Neriamarillo3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=n $LINEAR_CONF`" ]; then
  echo "90 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "90 91 93 95 98 100 105 114 116 131 131 135 117 112 106 92 75 65 56 48 36 29 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "84 85 86 88 91 94 101 111 115 131 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "84 85 86 88 91 94 101 111 115 131 132 136 115 111 106 94 78 69 63 57 49 36 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 75 86 114 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 75 86 114 117 125 125 119 113 100 85 75 67 61 52 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Nexu5mag >> $LINEAR_LOGFILE;
elif [ "`grep COL=o $LINEAR_CONF`" ]; then
  echo "81 87 89 91 94 96 101 109 111 118 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "81 87 89 91 94 96 101 109 111 118 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "69 73 75 78 81 84 90 100 105 119 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "69 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 99 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 102 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "29" > /sys/module/dsi_panel/kgamma_w;
  echo NexusManiac >> $LINEAR_LOGFILE;
elif [ "`grep COL=p $LINEAR_CONF`" ]; then
  echo "6 12 19 30 39 48 56 72 83 113 119 126 121 113 106 98 88 73 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "6 12 19 30 39 48 56 72 83 113 119 130 121 113 108 99 88 74 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "6 12 19 30 39 48 56 72 83 118 123 131 118 111 105 97 86 73 63 54 45 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "6 12 19 30 39 48 56 72 83 118 123 131 118 111 105 98 86 73 63 54 45 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "6 12 19 30 39 48 56 72 83 111 122 126 119 113 106 99 88 73 63 53 44 36 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "6 12 19 30 39 48 56 72 83 111 122 134 119 113 106 99 88 72 59 50 44 36 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Perfect22 >> $LINEAR_LOGFILE;
elif [ "`grep COL=q $LINEAR_CONF`" ]; then
  echo "0 12 19 30 39 48 56 72 82 104 118 127 119 116 115 106 84 78 66 60 44 35 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 19 30 39 48 56 72 82 104 118 131 120 116 114 107 100 78 66 60 44 35 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 20 31 40 55 62 76 89 109 123 132 115 113 111 103 78 75 67 58 49 39 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 20 31 40 55 62 79 84 109 123 134 116 112 112 104 101 76 67 58 49 39 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 19 30 39 48 56 72 83 105 119 130 119 115 116 106 88 80 71 62 52 42 25" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 19 30 39 48 56 72 83 105 121 130 118 115 114 108 100 80 66 60 48 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Piereligio TrueRGBv7 >> $LINEAR_LOGFILE;
elif [ "`grep COL=r $LINEAR_CONF`" ]; then
  echo "15 10 17 27 37 45 56 72 83 96 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bn;
  echo "15 10 17 27 37 45 56 72 83 96 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 10 17 27 37 45 56 72 83 100 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gp;
  echo "5 10 17 27 37 45 56 72 83 102 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "5 10 17 27 37 45 56 72 83 102 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "29" > /sys/module/dsi_panel/kgamma_w;
  echo Pretoriano80 >> $LINEAR_LOGFILE;
elif [ "`grep COL=s $LINEAR_CONF`" ]; then
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "28" > /sys/module/dsi_panel/kgamma_w;
  echo Raenmor >> $LINEAR_LOGFILE;
elif [ "`grep COL=t $LINEAR_CONF`" ]; then
  echo "89 90 92 95 98 100 105 113 115 125 130 135 117 115 110 100 87 75 63 53 39 31 16" > /sys/module/dsi_panel/kgamma_bn;
  echo "89 90 92 95 98 100 105 113 115 125 130 135 117 115 110 100 87 75 63 53 39 31 16" > /sys/module/dsi_panel/kgamma_bp;
  echo "83 85 86 89 91 94 99 109 113 124 131 136 117 115 111 101 88 78 68 61 51 37 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "83 85 86 89 91 94 99 109 113 124 131 136 117 115 111 101 88 78 68 61 51 37 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 57 73 85 104 115 125 124 119 114 103 88 75 65 60 51 37 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 57 73 85 104 115 125 124 119 114 103 88 75 65 60 51 37 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Rajenedra82 >> $LINEAR_LOGFILE;
elif [ "`grep COL=u $LINEAR_CONF`" ]; then
  echo "0 12 24 37 50 64 76 85 94 103 113 124 126 121 114 108 102 95 86 79 68 57 41" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 24 37 50 64 76 85 94 103 113 124 126 121 114 108 102 95 86 79 68 57 41" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 122 117 110 104 98 91 82 75 64 53 38" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 122 117 110 104 98 91 82 75 64 53 38" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 122 117 110 104 98 91 82 75 64 53 38" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 122 117 110 104 98 91 82 75 64 53 38" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Sammy2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=v $LINEAR_CONF`" ]; then
  echo "0 12 24 37 50 64 76 85 94 103 114 124 120 109 98 87 76 65 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 24 37 50 64 76 85 94 103 114 124 120 109 98 87 76 65 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 117 107 96 85 75 64 53 43 32 21 11" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 117 107 96 85 75 64 53 43 32 21 11" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 117 107 96 85 75 64 53 43 32 21 11" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 117 107 96 85 75 64 53 43 32 21 11" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Sammy3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=w $LINEAR_CONF`" ]; then
  echo "0 12 23 34 45 57 68 79 90 102 112 124 121 110 99 89 78 67 57 47 33 20 6" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 23 34 45 57 68 79 90 102 112 124 121 110 99 89 78 67 57 47 33 20 6" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 24 36 47 59 70 82 93 105 116 127 117 106 95 85 74 63 53 44 31 19 6" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 24 36 47 59 70 82 93 105 116 127 117 106 95 85 74 63 53 44 31 19 6" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 24 36 48 59 71 82 94 106 117 128 116 105 94 84 73 62 52 43 31 18 6" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 24 36 48 59 71 82 94 106 117 128 116 105 94 84 73 62 52 43 31 18 6" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Sammy4 >> $LINEAR_LOGFILE
elif [ "`grep COL=x $LINEAR_CONF`" ]; then
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 11 23 35 49 63 75 83 92 101 111 122 122 111 100 89 78 66 55 44 33 22 11" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo sanity >> $LINEAR_LOGFILE;
elif [ "`grep COL=y $LINEAR_CONF`" ]; then
  echo "43 50 57 65 72 82 91 98 104 111 120 127 118 109 100 90 81 71 60 51 40 30 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "43 50 57 65 72 82 91 98 104 111 120 127 118 109 100 90 81 71 60 51 40 30 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "35 42 49 58 66 77 88 95 103 113 121 130 116 108 100 90 82 73 63 53 42 32 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "35 42 49 58 66 77 88 95 103 113 121 130 116 108 100 90 82 73 63 53 42 32 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 21 32 45 58 73 84 93 107 119 131 117 108 101 94 85 78 67 55 45 34 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 21 32 45 58 73 84 93 107 119 131 117 108 101 94 85 78 67 55 45 34 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Semi3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=z $LINEAR_CONF`" ]; then
  echo "0 12 24 37 50 64 76 85 94 103 113 124 124 116 107 98 90 80 70 62 49 37 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 24 37 50 64 76 85 94 103 113 124 124 116 107 98 90 80 70 62 49 37 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 120 113 105 97 89 80 70 62 49 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 120 113 105 97 89 80 70 62 49 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 120 113 105 97 89 80 70 62 50 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 15 25 39 52 67 79 88 98 107 117 128 120 113 105 97 89 80 70 62 50 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Son of Sammy2 >> $LINEAR_LOGFILE;
elif [ "`grep COL=A $LINEAR_CONF`" ]; then
  echo "0 12 24 37 50 64 76 85 94 103 114 124 121 111 101 91 81 71 62 51 41 30 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 24 37 50 64 76 85 94 103 114 124 121 111 101 91 81 71 62 51 41 30 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 119 110 101 91 83 73 62 52 42 31 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 119 110 101 91 83 73 62 52 42 31 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 119 112 103 94 87 78 66 56 44 33 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 24 38 52 67 79 88 96 107 117 127 119 112 103 94 87 78 66 56 44 33 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Son of Sammy3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=B $LINEAR_CONF`" ]; then
  echo "0 12 23 34 45 57 68 79 90 111 112 124 121 111 101 91 81 71 63 55 43 32 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 23 34 45 57 68 79 90 111 112 124 121 111 101 91 81 71 63 55 43 32 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 24 37 48 60 71 83 94 114 117 127 117 108 98 90 80 71 62 54 43 32 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 24 37 48 60 71 83 94 114 117 127 117 108 98 90 80 71 62 54 43 32 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 25 37 50 61 73 85 96 121 116 126 118 109 100 92 83 74 64 56 45 33 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 25 37 50 61 73 85 96 121 116 126 118 109 100 92 83 74 64 56 45 33 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo The Gingerbread Man V4 >> $LINEAR_LOGFILE;
elif [ "`grep COL=C $LINEAR_CONF`" ]; then
  echo "25 35 43 52 60 70 78 87 97 108 117 128 118 109 100 90 81 72 64 56 45 34 22" > /sys/module/dsi_panel/kgamma_bn;
  echo "25 35 43 52 60 70 78 87 97 108 117 128 118 109 100 90 81 72 64 56 45 34 22" > /sys/module/dsi_panel/kgamma_bp;
  echo "25 35 45 56 66 76 85 95 104 114 123 131 115 106 96 87 77 68 59 52 41 31 20" > /sys/module/dsi_panel/kgamma_gn;
  echo "25 35 45 56 66 76 85 95 104 114 123 131 115 106 96 87 77 68 59 52 41 31 20" > /sys/module/dsi_panel/kgamma_gp;
  echo "20 30 41 51 63 72 82 92 103 113 122 131 113 104 95 86 77 68 59 52 42 31 21" > /sys/module/dsi_panel/kgamma_rn;
  echo "20 30 41 51 63 72 82 92 103 113 122 131 113 104 95 86 77 68 59 52 42 31 21" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Tjkv >> $LINEAR_LOGFILE;
elif [ "`grep COL=D $LINEAR_CONF`" ]; then
  echo "0 12 19 30 39 48 56 72 83 105 118 126 121 114 109 102 93 73 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 19 30 39 48 56 72 83 105 118 130 121 115 114 102 82 76 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 19 30 39 54 61 78 84 107 123 132 117 110 108 97 90 71 61 52 45 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 19 30 39 54 61 78 84 107 121 130 119 112 107 99 76 72 57 50 45 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 19 30 39 48 56 72 83 105 121 126 119 112 107 99 91 71 63 53 44 36 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 19 30 39 48 56 72 83 105 121 134 119 113 110 98 78 72 59 50 44 36 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Vomer V3 >> $LINEAR_LOGFILE;
elif [ "`grep COL=E $LINEAR_CONF`" ]; then
  echo "43 50 57 64 71 78 88 96 105 114 122 130 114 104 94 84 74 65 54 45 37 28 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "43 50 57 64 71 78 88 96 105 114 122 130 114 104 94 84 74 65 54 45 37 28 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "35 42 50 57 65 72 83 92 102 112 121 130 114 104 95 85 75 66 55 46 38 29 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "35 42 50 57 65 72 83 92 102 112 121 130 114 104 95 85 75 66 55 46 38 29 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 21 31 42 52 65 77 89 102 113 125 119 109 99 88 78 69 58 49 39 30 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 21 31 42 52 65 77 89 102 113 125 119 109 99 88 78 69 58 49 39 30 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Vomer Medium >> $LINEAR_LOGFILE
elif [ "`grep COL=F $LINEAR_CONF`" ]; then
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 24 36 48 60 73 84 96 108 119 130 110 96 82 67 53 40 32 26 21 15 10" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Vomer AMOLED >> $LINEAR_LOGFILE
elif [ "`grep COL=G $LINEAR_CONF`" ]; then
  echo "0 12 19 30 39 48 56 72 83 105 118 126 121 114 109 102 93 73 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 12 19 30 39 48 56 72 83 105 118 130 121 115 114 102 82 76 63 54 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 12 19 30 39 54 61 78 84 107 123 132 117 110 108 97 90 71 61 52 45 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 12 19 30 39 54 61 78 84 107 121 130 119 112 107 99 76 72 57 50 45 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 12 19 30 39 48 56 72 83 105 121 126 119 112 107 99 91 71 63 53 44 36 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 12 19 30 39 48 56 72 83 105 121 134 119 113 110 98 78 72 59 50 44 36 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Vomer Balanced >> $LINEAR_LOGFILE
elif [ "`grep COL=H $LINEAR_CONF`" ]; then
  echo "0 14 19 33 41 46 60 77 88 105 116 123 125 119 111 95 76 57 41 36 24 15 5" > /sys/module/dsi_panel/kgamma_bn;
  echo "0 14 18 31 41 47 59 77 88 105 116 125 125 119 111 95 75 56 48 37 26 15 5" > /sys/module/dsi_panel/kgamma_bp;
  echo "0 20 31 43 50 57 67 84 95 111 120 128 122 116 109 93 73 55 41 34 24 10 5" > /sys/module/dsi_panel/kgamma_gn;
  echo "0 20 30 43 50 57 67 85 95 110 121 128 122 116 108 94 74 55 43 35 26 10 5" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 18 23 36 45 54 63 81 91 107 118 126 124 118 110 93 73 56 43 36 25 10 5" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 18 23 36 45 54 63 80 91 107 118 126 124 118 110 94 74 57 43 35 26 10 5" > /sys/module/dsi_panel/kgamma_rp;
  echo "31" > /sys/module/dsi_panel/kgamma_w;
  echo Yorici Punch >> $LINEAR_LOGFILE    
elif [ "`grep COL=I $LINEAR_CONF`" ]; then
  echo "25 35 45 55 65 75 85 95 105 110 115 125 125 120 120 90 65 45 30 20 15 10 5" > /sys/module/dsi_panel/kgamma_bn;
  echo "25 35 45 55 65 75 85 95 105 110 115 125 125 120 120 90 65 45 30 20 15 10 5" > /sys/module/dsi_panel/kgamma_bp;
  echo "25 35 45 55 65 75 85 95 105 115 120 130 120 115 115 85 60 45 30 25 20 15 10" > /sys/module/dsi_panel/kgamma_gn;
  echo "25 35 45 55 65 75 85 95 105 115 120 130 120 115 115 85 60 45 30 25 20 15 10" > /sys/module/dsi_panel/kgamma_gp;
  echo "40 50 60 70 75 80 90 100 110 115 125 130 125 115 115 85 65 50 35 25 20 15 10" > /sys/module/dsi_panel/kgamma_rn;
  echo "40 50 60 70 75 80 90 100 110 115 125 130 125 115 115 85 65 50 35 25 20 15 10" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Zorrich >> $LINEAR_LOGFILE
else
  echo "86 87 89 91 94 96 101 109 111 121 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bn;
  echo "86 87 89 91 94 96 101 109 111 121 126 131 120 116 110 99 84 71 61 52 40 33 20" > /sys/module/dsi_panel/kgamma_bp;
  echo "71 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gn;
  echo "71 73 75 78 81 84 90 100 105 117 124 130 121 117 111 100 85 73 64 58 50 37 21" > /sys/module/dsi_panel/kgamma_gp;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rn;
  echo "0 10 17 27 37 45 56 72 83 101 112 121 128 123 117 106 91 78 68 62 53 38 22" > /sys/module/dsi_panel/kgamma_rp;
  echo "32" > /sys/module/dsi_panel/kgamma_w;
  echo Stock color >> $LINEAR_LOGFILE;
fi

#Set Faux Sound
SOUND=`grep "SOUND" $LINEAR_CONF | cut -d '=' -f2`
if [ "`grep SOUND=1 $LINEAR_CONF`" ]; then
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "254 254" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "33 33" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "6" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "254 254" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
#  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_rec_locked;
  echo Sound Quality profile enabled >> $LINEAR_LOGFILE;
elif [ "`grep SOUND=3 $LINEAR_CONF`" ]; then
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "9 9" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "35 35" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "6" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "5 5" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
#  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_rec_locked;
  echo Sound Loudness profile enabled >> $LINEAR_LOGFILE;
elif [ "`grep SOUND=4 $LINEAR_CONF`" ]; then
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "251 251" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "40 40" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "0" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "253 253" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
#  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_rec_locked;
  echo Sound Quiet profile enabled >> $LINEAR_LOGFILE;
elif [ "`grep SOUND=5 $LINEAR_CONF`" ]; then
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "254 254" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "33 33" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "9" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "5 5" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
#  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_rec_locked;
  echo Sound Quality speaker 5 profile enabled >> $LINEAR_LOGFILE;
elif [ "`grep SOUND=6 $LINEAR_CONF`" ]; then
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "9" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "36 36" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "6 6" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "256 256" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo Sound Stock speaker 6 profile enabled >> $LINEAR_LOGFILE;
else
  echo "0" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo "0" > /sys/kernel/sound_control_3/gpl_mic_gain;
  echo "256 0" > /sys/kernel/sound_control_3/gpl_cam_mic_gain;
  echo "36 36" > /sys/kernel/sound_control_3/gpl_headphone_pa_gain;
  echo "256 256" > /sys/kernel/sound_control_3/gpl_speaker_gain;
  echo "256 256" > /sys/kernel/sound_control_3/gpl_headphone_gain;
  echo "1" > /sys/kernel/sound_control_3/gpl_sound_control_locked;
  echo Faux sound Stock profile enabled >> $LINEAR_LOGFILE;
fi

#Set Backlight
if [ "`grep BL=1 $LINEAR_CONF`" ]; then
  echo 1 > /sys/module/lm3630_bl/parameters/backlight_dimmer
  echo Backlight dimmer enabled >> $LINEAR_LOGFILE;
else
  echo 0 > /sys/module/lm3630_bl/parameters/backlight_dimmer
  echo Backlight dimmer disabled >> $LINEAR_LOGFILE;
fi

#update backup
cp /system/etc/linear.conf /sdcard/.linear.backup

exit 0
